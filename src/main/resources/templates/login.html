<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login & Register Form</title>
    <link rel="stylesheet" href="/css/authSignIn.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
<!--    <img src="/images/book3d.png" alt="Description of the image" style="width: 300px; height: auto;">-->
    <style>
        body {
            background-image: url('/images/edudesc.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            width: 100vw;
            height: auto
        }
    </style>
</head>
<body>
<!--<video controls autoplay loop>-->
<!--    <source src="/path/to/your/video.mp4" type="video/mp4">-->
<!--    &lt;!&ndash; Thêm các source khác (nếu cần) &ndash;&gt;-->
<!--    Your browser does not support the video tag.-->
<!--</video>-->
<div class="wrapper">
    <div class="title-text">
        <div class="title login">Đăng Nhập</div>
        <div class="title signup">Đăng Kí</div>
    </div>
    <div class="form-container">
        <div class="slide-controls">
            <input type="radio" name="slide" id="login" checked>
            <input type="radio" name="slide" id="signup">
            <label for="login" class="slide login">Đăng Nhập</label>
            <label for="signup" class="slide signup">Đăng Kí</label>
            <div class="slider-tab"></div>
        </div>
        <div class="form-inner">
            <form th:action="@{/login}" method="post" class="login">
                <div class="field">
                    <input type="text" required placeholder="Tên người dùng" name="username" th:value="${username}">
                </div>
                <div class="field">
                    <input type="password" required placeholder="Nhập mật khẩu" name="password" th:value="${password}">
                </div>
                <div class="field">
                    <select name="roleId" required>
                        <option th:each="role : ${roles}" th:value="${role.id}" th:text="${role.description}" th:selected="${role.id == roleId}"></option>
                    </select>
                </div>
                <div class="pass-link"><a th:href="@{/forgot-password}">Quên mật khẩu?</a></div>
                <div class="field btn">
                    <div class="btn-layer"></div>
                    <input type="submit" value="Đăng Nhập">
                </div>
                <div class="signup-link">Chưa có Tài khoản? <a href="">Đăng Kí</a></div>
            </form>
            <form th:action="@{/register}" method="post">
<!--                <div class="field">-->
<!--                <input type="text" required placeholder="Họ và tên" name="name">-->
<!--                </div>-->
                <div class="field">
                <input type="text" required placeholder="Tên người dùng" name="username">
                </div>
                <div th:if="${usernameError}" class="error-message">
                    <p th:text="${usernameError}"></p>
                </div>
                <div class="field">
                <input type="email" required placeholder="Nhập email" name="email">
                </div>
                <div th:if="${emailError}" class="error-message">
                    <p th:text="${emailError}"></p>
                </div>
                <div class="field">
                <input type="password" required placeholder="Nhập mật khẩu" name="password" id="password">
                </div>
                    <div class="field">
                <input type="password" required placeholder="Xác nhận mật khẩu" name="confirmPassword" id="confirmPassword" >
                    </div>
                <div class="field">
                <input type="text" required placeholder="Số điện thoại" name="phone">
                </div>
<!--                <div class="field">-->
<!--                <input type="text" required placeholder="Mã người dùng" name="code">-->
<!--                </div>-->
                <div class="field">
                <select name="roleId" required>
                    <option th:each="role : ${roles}" th:value="${role.id}" th:text="${role.description}"></option>
                </select>
                </div>
                <div>

                </div>
                <div class="field btn">
                    <div class="btn-layer"></div>
                    <input type="submit" value="Đăng ký">
                </div>
                <div class="register-link">Đã có Tài khoản? <a href="">Đăng Nhập</a></div>
            </form>
        </div>
    </div>
</div>



<script src="/js/authSignIn.js"></script>
<script>
    function validateForm() {
        var password = document.getElementById("password").value;
        var confirmPassword = document.getElementById("confirmPassword").value;
        var phone = document.getElementById("phone").value;
        var passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
        var phoneRegex = /^[0-9]{10,11}$/;

        if (!passwordRegex.test(password)) {
            alert("Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ cái in hoa, chữ cái thường, số và ký tự đặc biệt.");
            return false;
        }

        if (password !== confirmPassword) {
            alert("Mật khẩu và xác nhận mật khẩu không khớp.");
            return false;
        }

        if (!phoneRegex.test(phone)) {
            alert("Số điện thoại không hợp lệ.");
            return false;
        }

        return true;
    }
</script>
<!--<img src="/images/book3d.png" alt="Background image">-->
<!--<img src="/images/book3d.png" alt="Description of the image" style="width: 300px; height: auto;">-->

</body>
</html>
