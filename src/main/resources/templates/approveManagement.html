<!DOCTYPE html>
<html lang="en">
<head>
    <title>Duyệt bài</title>
    <script th:src="@{/js/adminFragments.js}" type="module"></script>
    <th:block th:replace="adminFragments :: adminhead"></th:block>
</head>
<body>
<div class="wrapper collapse">
    <div th:replace="adminFragments :: adminheader"></div>
    <!--Start: Content-->
    <div class="main_container">
        <section id="content">
            <!-- MAIN -->
            <main>
                <div class="head-title">
                    <div class="left">
                        <h1>Duyệt bài</h1>
                    </div>
                </div>
                <div class="table-data">
                    <div class="order">
                        <div class="head">
                            <h3>Danh sách bài đăng</h3>
                            <div class="filter">
                                <!-- Form tìm kiếm -->
                                <form id="searchForm">
                                    <input
                                            type="text"
                                            id="searchInput"
                                            placeholder="Tìm bài đăng theo tên"
                                            required
                                    />
                                    <button type="submit">Tìm</button>
                                </form>
                            </div>
                        </div>
                        <table>
                            <thead>
                            <tr>
                                <th><p>Tiêu đề</p></th>
                                <th><p>Ngày</p></th>
                                <th><p>Chi tiết</p></th>
                                <th><p>Hành động</p></th>
                            </tr>
                            </thead>
                            <tbody id="tableBody">
                            <tr th:each="media : ${mediaPage.content}">
                                <td><p th:text="${media.title}"></p></td>
                                <td><p th:text="${#dates.format(media.publishedDate, 'dd/MM/yyyy')}"></p></td>
                                <td>
                                    <a class="view-post"
                                       th:data-id="${media.id}"
                                       th:data-title="${media.title}"
                                       th:data-content="${media.content}"
                                       th:data-publisheddate="${#dates.format(media.publishedDate, 'dd/MM/yyyy')}">
                                        Xem
                                    </a>
                                </td>
                                <td>
                                    <button class="approve-btn" th:data-id="${media.id}">Duyệt</button>
                                    <button class="reject-btn" th:data-id="${media.id}">Từ chối</button>
                                </td>
                            </tr>
                            </tbody>

                        </table>
                        <div id="no-result">There's no result</div>
                        <div th:if="${mediaPage.totalPages > 0}" class="pagination">
                            <div th:each="pageNumber : ${pageNumbers}">
                                <a th:href="@{/admin/managerPostsPagination(size=${mediaPage.size}, page=${pageNumber})}"
                                   th:text="${pageNumber}"
                                   th:classappend="${pageNumber == mediaPage.number + 1} ? ' active' : ''"></a>
                            </div>
                        </div>
                    </div>
                </div>

            </main>

            <!-- MAIN -->
        </section>
    </div>
    <!--End: Content-->
</div>

<!-- Start modal view detail post -->
<div id="viewPostModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2 id="postTitleViewModal"></h2>
        <p id="postContentViewModal"></p>
        <p id="postPublishedDateViewModal"></p>
    </div>
</div>
<!-- End modal view detail posy -->

<!-- Start toast successfull information -->
<div id="toastContainer" class="toast-container"></div>

</body>
</html>